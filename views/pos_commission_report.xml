<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Tree View for Commission Report Lines -->
    <record id="view_commission_report_line_tree" model="ir.ui.view">
        <field name="name">commission.report.line.list</field>
        <field name="model">pos.commission.report.line</field>
        <field name="arch" type="xml">
            <list string="Employee Commission Details">
                <field name="employee_id"/>
                <field name="target_amount"/>
                <field name="commission_rate"/>
                <field name="total_sales"/>
                <field name="earned_commission"/>
                <field name="achievement_rate"/>
                <button name="action_view_details" type="object" string="View Details" class="btn-primary" icon="fa-search"/>
            </list>
        </field>
    </record>

    <!-- Employee Detail Wizard View -->
    <record id="view_employee_detail_wizard_form" model="ir.ui.view">
        <field name="name">employee.detail.wizard.form</field>
        <field name="model">pos.employee.detail.wizard</field>
        <field name="arch" type="xml">
            <form string="Employee Sales Details">
                <header>
                    <button name="action_export_details" type="object" string="Export Details" class="btn-secondary" icon="fa-download"/>
                    <button string="Close" class="btn-default" special="cancel"/>
                </header>
                <sheet>
                    <!-- Summary Section -->
                    <group string="Summary" col="6">
                        <field name="employee_id" readonly="1"/>
                        <field name="start_date" readonly="1"/>
                        <field name="end_date" readonly="1"/>
                        <field name="total_orders" readonly="1"/>
                        <field name="total_quantity" readonly="1"/>
                        <field name="total_subtotal" readonly="1"/>
                        <field name="total_tax" readonly="1"/>
                        <field name="total_amount" readonly="1"/>
                    </group>

                    <!-- Detailed Lines -->
                    <group string="Detailed Sales" colspan="6">
                        <field name="detail_lines" nolabel="1" colspan="6">
                            <list>
                                <field name="order_ref" string="Order Reference"/>
                                <field name="date_order" string="Order Date"/>
                                <field name="product_name" string="Product"/>
                                <field name="category_name" string="Category"/>
                                <field name="quantity" string="Qty"/>
                                <field name="subtotal_excl_tax" string="Subtotal (Excl Tax)"/>
                                <field name="subtotal_incl_tax" string="Subtotal (Incl Tax)"/>
                                <field name="tax_amount" string="Tax Amount"/>
                                <field name="order_total" string="Total"/>
                            </list>
                        </field>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Main Report View -->
    <record id="view_pos_commission_report_form" model="ir.ui.view">
        <field name="name">pos.commission.report.form</field>
        <field name="model">pos.commission.report</field>
        <field name="arch" type="xml">
            <form string="POS Commission Report">
                <header>
                    <button name="action_generate_report" type="object" string="Generate Report" class="btn-primary"/>
                    <button name="action_export_csv" type="object" string="Export CSV" class="btn-secondary"/>
                    <button name="action_clear_filters" type="object" string="Clear Filters" class="btn-default"/>
                </header>
                <sheet>
                    <group string="Report Filters" col="4">
                        <field name="start_date"/>
                        <field name="end_date"/>
                        <field name="category_ids" widget="many2many_tags"/>
                    </group>

                    <group string="Overall Summary" col="4">
                        <field name="total_sales" readonly="1"/>
                        <field name="total_commission" readonly="1"/>
                        <field name="employee_count" readonly="1"/>
                        <field name="report_generated" readonly="1"/>
                    </group>

                    <group string="Employee Commission Summary" colspan="4">
                        <field name="employee_line_ids" nolabel="1" readonly="1" colspan="4">
                            <list>
                                <field name="employee_id"/>
                                <field name="target_amount"/>
                                <field name="commission_rate"/>
                                <field name="total_sales"/>
                                <field name="earned_commission"/>
                                <field name="achievement_rate"/>
                                <button name="action_view_details" type="object" string="View Details" class="btn-primary" icon="fa-search"/>
                            </list>
                        </field>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- List View for Display -->
    <record id="view_pos_commission_report_list" model="ir.ui.view">
        <field name="name">pos.commission.report.list</field>
        <field name="model">pos.commission.report</field>
        <field name="arch" type="xml">
            <list string="Commission Reports">
                <field name="display_name"/>
                <field name="start_date"/>
                <field name="end_date"/>
                <field name="total_sales"/>
                <field name="total_commission"/>
                <field name="employee_count"/>
                <field name="report_generated"/>
            </list>
        </field>
    </record>

    <!-- Action for Page View -->
    <record id="action_pos_commission_report" model="ir.actions.act_window">
        <field name="name">POS Commission Report</field>
        <field name="res_model">pos.commission.report</field>
        <field name="view_mode">list,form</field>
        <field name="view_id" ref="view_pos_commission_report_list"/>
        <field name="target">current</field>
    </record>
</odoo>